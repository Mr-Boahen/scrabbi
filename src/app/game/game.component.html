<div class="absolute bottom-5 z-10 h-[90vh] w-[100vw] grid place-items-center">
  <div
    class="relative h-[75%] w-[80%] lg:w-[60%] bg-fuchsia-500/10 border-fuchsia-300/20 rounded-lg border 2xl:w-[50%]"
  >
    <div
      class="absolute z-40 w-[100%] flex justify-center gap-3 p-5 sm:p-10 sm:-scroll-mt-5"
    >
      <div
        class="text-md text-fuchsia-400 bg-black/30 border border-fuchsia-300/30 rounded-full grid place-items-center px-3 h-14 w-14 shadow-xl font-bold font-jetbrains"
      >
        <h1>
          <span>{{ correctSubmittedWords.length }}</span>
        </h1>
      </div>
      <div
        [ngClass]="{
          grid: true,
          'animate-pulse': countDown <= 5,
          'place-items-center': true,
          'w-28': true,
          'h-14': true,

          'bg-black/30': countDown >= 6,
          border: true,
          'border-violet-900': true,
          'rounded-full': true
        }"
      >
        <h1
          [ngClass]="{'text-red-500':countDown<=5,
          'text-purple-400':countDown>=6,
          'text-lg':true,
         
          'font-jetbrains':true,
          'font-[900]':true,}"
        >
          00:{{ countDown }}
        </h1>
      </div>

      <div
        class="text-md rounded-md bg-black/30 text-fuchsia-400 grid place-items-center p-1 min-w-20 border border-fuchsia-300/20 font-bold font-jetbrains"
      >
        <span>{{ score }}</span>
      </div>
    </div>
    <div class="relative -top-16 z-20 w-[100%] flex items-center">
      <div
        class="flex gap-4 items-center justify-center w-[80%] lg:w-[50%] mx-auto h-10"
      >
        <div
          class="w-60 h-8 rounded-lg bg-fuchsia-400/10 flex items-center px-5"
        >
          <div
            class="flex gap-[3px] items-center font-jetbrains font-semibold text-[12px] cursor-pointer"
          >
            <h1 class="text-fuchsia-300">time</h1>
          </div>
          <div class="w-[3px] h-[18px] rounded-lg mx-3 bg-fuchsia-400"></div>
          <div class="flex gap-5">
            <h1
              (click)="setTimer(15)"
              [ngClass]="{
                'text-purple-900 transition-all duration-100 ease-in-out':
                  selectedTime != 15,
                'text-[12px]': true,
                'font-jetbrains': true,
                'font-semibold': true,
                'text-fuchsia-300 transition-all duration-100 ease-in-out':
                  selectedTime == 15,
                'cursor-pointer': true
              }"
            >
              15
            </h1>
            <h1
              (click)="setTimer(30)"
              [ngClass]="{
                'text-purple-900': selectedTime != 30,
                'text-[12px]': true,
                'font-jetbrains': true,
                'font-semibold': true,
                'text-fuchsia-300': selectedTime == 30,
                'cursor-pointer': true
              }"
            >
              30
            </h1>
            <h1
              (click)="setTimer(60)"
              [ngClass]="{
                'text-purple-900': selectedTime != 60,
                'text-[12px]': true,
                'font-jetbrains': true,
                'font-semibold': true,
                'text-fuchsia-300': selectedTime == 60,
                'cursor-pointer': true
              }"
            >
              60
            </h1>
            <h1
              (click)="setTimer(120)"
              [ngClass]="{
                'text-purple-900': selectedTime != 120,
                'text-[12px]': true,
                'font-jetbrains': true,
                'font-semibold': true,
                'text-fuchsia-300': selectedTime == 120,
                'cursor-pointer': true
              }"
            >
              120
            </h1>
          </div>
        </div>
      </div>
    </div>
    <div class="absolute z-30 top-[20%] sm:top-[25%] w-[100%]">
      <div
        class="h-[35%] w-[95%] md:w-[80%] lg:w-[95%] xl:w-[80%] 2xl:w-[60%] mx-auto px-2 bg-fuchsia-900/20 border border-fuchsia-300/10 shadow-lg rounded-lg"
      >
        <div
          [@shakeOnError]="animationState"
          *ngIf="selectedLetters"
          class="flex sm:justify-center gap-1 mt-10 w-[100%]"
        >
          <div
            [ngClass]="{
              'cursor-pointer': true,
              grid: true,
              'place-items-center': true,
              'h-14': true,
              'w-14': true,
              'md:min-h-16': true,
              'md:min-w-16': true,
              'border-[2px]': true,
              'shadow-lg': true,
              'border-fuchsia-400/20': animationState == '',
              'border-red-800': animationState == 'shake',
              'rounded-[10px]': true,
              'active:scale-105': true,
              'transition-all': true,
              'duration-100': true,
              'ease-in-out': true
            }"
            (click)="removeSelectedTiles(0)"
            class="cursor-pointer grid place-items-center h-14 w-14 md:h-16 md:min-w-16 border-4 border-purple-900 rounded-[10px] active:scale-105 transition-all duration-100 ease-in-out"
          >
            <h1
              [@fadeInAndPop]
              *ngIf="selectedLetters[0]"
              class="text-purple-500 text-lg font-jetbrains font-[800]"
            >
              {{ selectedLetters[0] }}
            </h1>
          </div>
          <div
            [ngClass]="{
              'cursor-pointer': true,
              grid: true,
              'place-items-center': true,
              'h-14': true,
              'w-14': true,
              'md:min-h-16': true,
              'md:min-w-16': true,
              'border-[2px]': true,
              'shadow-lg': true,
              'border-fuchsia-400/20': animationState == '',
              'border-red-800': animationState == 'shake',
              'rounded-[10px]': true,
              'active:scale-105': true,
              'transition-all': true,
              'duration-100': true,
              'ease-in-out': true
            }"
            (click)="removeSelectedTiles(1)"
            class="cursor-pointer grid place-items-center h-14 w-14 md:h-16 md:min-w-16 border-4 border-purple-900 rounded-[10px] active:scale-105 transition-all duration-100 ease-in-out"
          >
            <h1
              [@fadeInAndPop]
              *ngIf="selectedLetters[1]"
              class="text-purple-500 text-lg font-jetbrains font-[800]"
            >
              {{ selectedLetters[1] }}
            </h1>
          </div>
          <div
            [ngClass]="{
              'cursor-pointer': true,
              grid: true,
              'place-items-center': true,
              'h-14': true,
              'w-14': true,
              'md:min-h-16': true,
              'md:min-w-16': true,
              'border-[2px]': true,
              'shadow-lg': true,
              'border-fuchsia-400/20': animationState == '',
              'border-red-800': animationState == 'shake',
              'rounded-[10px]': true,
              'active:scale-105': true,
              'transition-all': true,
              'duration-100': true,
              'ease-in-out': true
            }"
            (click)="removeSelectedTiles(2)"
            class="cursor-pointer grid place-items-center h-14 w-14 md:h-16 md:min-w-16 border-4 border-purple-900 rounded-[10px] active:scale-105 transition-all duration-100 ease-in-out"
          >
            <h1
              [@fadeInAndPop]
              *ngIf="selectedLetters[2]"
              class="text-purple-500 text-lg font-jetbrains font-[800]"
            >
              {{ selectedLetters[2] }}
            </h1>
          </div>

          <div
            [ngClass]="{
              'cursor-pointer': true,
              grid: true,
              'place-items-center': true,
              'h-14': true,
              'w-14': true,
              'md:min-h-16': true,
              'md:min-w-16': true,
              'border-[2px]': true,
              'shadow-lg': true,
              'border-fuchsia-400/20': animationState == '',
              'border-red-800': animationState == 'shake',
              'rounded-[10px]': true,
              'active:scale-105': true,
              'transition-all': true,
              'duration-100': true,
              'ease-in-out': true
            }"
            (click)="removeSelectedTiles(3)"
            class="cursor-pointer grid place-items-center h-14 w-14 md:h-16 md:min-w-16 border-4 border-purple-900 rounded-[10px] active:scale-105 transition-all duration-100 ease-in-out"
          >
            <h1
              [@fadeInAndPop]
              *ngIf="selectedLetters[3]"
              class="text-purple-500 text-lg font-jetbrains font-[800]"
            >
              {{ selectedLetters[3] }}
            </h1>
          </div>
          <div
            [ngClass]="{
              'cursor-pointer': true,
              grid: true,
              'place-items-center': true,
              'h-14': true,
              'w-14': true,
              'md:min-h-16': true,
              'md:min-w-16': true,
              'border-[2px]': true,
              'shadow-lg': true,
              'border-fuchsia-400/20': animationState == '',
              'border-red-800': animationState == 'shake',
              'rounded-[10px]': true,
              'active:scale-105': true,
              'transition-all': true,
              'duration-100': true,
              'ease-in-out': true
            }"
            (click)="removeSelectedTiles(4)"
            class="cursor-pointer grid place-items-center h-14 w-14 md:h-16 md:min-w-16 border-4 border-purple-900 rounded-[10px] active:scale-105 transition-all duration-100 ease-in-out"
          >
            <h1
              [@fadeInAndPop]
              *ngIf="selectedLetters[4]"
              class="text-purple-500 text-lg font-jetbrains font-[800]"
            >
              {{ selectedLetters[4] }}
            </h1>
          </div>
          <div
            [ngClass]="{
              'cursor-pointer': true,
              grid: true,
              'place-items-center': true,
              'h-14': true,
              'w-14': true,
              'md:min-h-16': true,
              'md:min-w-16': true,
              'border-[2px]': true,
              'shadow-lg': true,
              'border-fuchsia-400/20': animationState == '',
              'border-red-800': animationState == 'shake',
              'rounded-[10px]': true,
              'active:scale-105': true,
              'transition-all': true,
              'duration-100': true,
              'ease-in-out': true
            }"
            (click)="removeSelectedTiles(5)"
            class="cursor-pointer grid place-items-center h-14 w-14 md:h-16 md:min-w-16 border-4 border-purple-900 rounded-[10px] active:scale-105 transition-all duration-100 ease-in-out"
          >
            <h1
              [@fadeInAndPop]
              *ngIf="selectedLetters[5]"
              class="text-purple-500 text-lg font-jetbrains font-[800]"
            >
              {{ selectedLetters[5] }}
            </h1>
          </div>
          <div
            [ngClass]="{
              'cursor-pointer': true,
              grid: true,
              'place-items-center': true,
              'h-14': true,
              'w-14': true,
              'md:min-h-16': true,
              'md:min-w-16': true,
              'border-[2px]': true,
              'shadow-lg': true,
              'border-fuchsia-400/20': animationState == '',
              'border-red-800': animationState == 'shake',
              'rounded-[10px]': true,
              'active:scale-105': true,
              'transition-all': true,
              'duration-100': true,
              'ease-in-out': true
            }"
            (click)="removeSelectedTiles(6)"
            class="cursor-pointer grid place-items-center h-14 w-14 md:h-16 md:min-w-16 border-4 border-purple-900 rounded-[10px] active:scale-105 transition-all duration-100 ease-in-out"
          >
            <h1
              [@fadeInAndPop]
              *ngIf="selectedLetters[6]"
              class="text-purple-500 text-lg font-jetbrains font-[800]"
            >
              {{ selectedLetters[6] }}
            </h1>
          </div>
        </div>
        <div class="w-full my-5 flex gap-5 justify-center">
          <div
            title="restart"
            (click)="restartGame()"
            class="cursor-pointer group grid place-items-center h-12 w-12 rounded-lg hover:bg-black/20  bg-purple-900/20 active:scale-105 transition-all duration-100 ease-in-out"
          >
            <fa-icon
              class="text-purple-400 text-lg"
              [icon]="faRotate"
            ></fa-icon>
          </div>
          <div
            title="shuffle"
            (click)="shuffleTiles()"
            class="cursor-pointer group  grid place-items-center h-12 w-12 rounded-lg hover:bg-black/20 bg-purple-900/20 active:scale-105 transition-all duration-100 ease-in-out"
          >
            <fa-icon
              class="text-purple-400 text-lg"
              [icon]="faShuffle"
            ></fa-icon>
          </div>
        </div>
      </div>
    </div>

    <div
      class="absolute z-20 flex flex-col w-[100%] gap-7 h-[80%] mt-[40px] sm:mt-[80px] md:mt-[40px] lg:mt-[120px] xl:mt-[50px] items-center justify-end pb-10 sm:pb-16"
    >
      <div
        *ngIf="gameHasStarted"
        (click)="submitWord()"
        class="cursor-pointer w-full flex items-center justify-center"
      >
        <h1
          [ngClass]="{
            'cursor-pointer': selectedLetters.length != 0,
            'cursor-not-allowed': selectedLetters.length == 0,
            'text-lg': true,
            'font-jetbrains': true,
            'border-2': selectedLetters.length == 0,
            'bg-fuchsia-300': selectedLetters.length != 0,
            'border-purple-950': selectedLetters.length == 0,
            'rounded-lg': true,
            'px-5': true,
            'py-1': true,

            'text-purple-500': selectedLetters.length != 0,
            'text-purple-900': true,
            'font-extrabold': true,
            'hover:bg-purple-950': selectedLetters.length != 0,
            'hover:text-fuchsia-300': selectedLetters.length != 0,
            'active:scale-105': true,
            'transition-all': true,
            'duration-100': true,
            'ease-in-out': true
          }"
        >
          enter
        </h1>
      </div>
      <div
        *ngIf="gameHasStarted == false"
        class="w-full flex items-center justify-center"
      >
        <h1
          (click)="startCountdown()"
          [ngClass]="{
            'cursor-pointer': true,
            'text-lg': true,
            'font-jetbrains': true,
            'bg-fuchsia-300': true,
            'rounded-lg': true,
            'px-5': true,
            'py-1': true,
            'text-purple-900': true,
            'font-extrabold': true,
            'hover:bg-purple-950': true,
            'hover:text-fuchsia-300': true,
            'active:scale-105': true,
            'transition-all': true,
            'duration-100': true,
            'ease-in-out': true
          }"
        >
          start
        </h1>
      </div>
      <!-- 'border-[2px]': true,
      'shadow-lg':true,
      'border-fuchsia-400/20':animationState=='', -->
      <div
        class="flex flex-wrap justify-center gap-5 mx-3 p-2 rounded-lg bg-fuchsia-900/30 border border-fuchsia-300/10 shadow-md"
      >
        <div
          *ngFor="let randomTile of randomTiles; index as i"
          (click)="onTileClick($event, i)"
          [ngClass]="{'relative':true,
          'grid':true, 
          'cursor-pointer':true,
          'place-items-center':true,
          'h-14':true,
          'w-14':true,
          'md:h-16':true,
          'md:min-w-16':true,
          'border-2':true,
          'shadow-lg':true,
          'border-fuchsia-500/20':selectedLetterIndex.includes(i)||countDown==0 ,
          'border-fuchsia-400/20':!selectedLetterIndex.includes(i),
          'rounded-[10px]':true,
          'active:scale-105':!selectedLetterIndex.includes(i),
          'transition-all':true,
          'duration-100':true,
          'ease-in-out':true,
          }"
        >
          <h1
            *ngIf="gameHasStarted"
            [@fadeInAndPop]
            [ngClass]="{
              'text-fuchsia-400/30':
                selectedLetterIndex.includes(i) || countDown == 0,
              'text-fuchsia-400': !selectedLetterIndex.includes(i),
              'text-xl': true,
              'font-jetbrains': true,
              'font-[800]': true
            }"
          >
            {{ randomTile }}
          </h1>
        </div>
      </div>
    </div>
  </div>
</div>
